package me.coolmint.ngm.features.modules.exploit;

import me.coolmint.ngm.features.modules.Module;
import me.coolmint.ngm.util.ChatUtil;
import me.coolmint.ngm.util.models.Timer;
import net.minecraft.network.packet.c2s.play.RequestCommandCompletionsC2SPacket;

public class Plugins extends Module {
    public Plugins() {
        super("Plugins", "", Category.EXPLOIT, true, false, false);
    }

    private Timer tickTimer = new Timer();

    @Override
    public void onEnable() {
        if (mc.player == null)
            return;

        mc.getNetworkHandler().sendPacket(new RequestCommandCompletionsC2SPacket("/"));
        tickTimer.reset();
    }

    @Override
    public void onUpdate() {
        if (tickTimer.passedTick(20)) {
            ChatUtil.sendError("Â§cPlugins check timed out...");
            tickTimer.reset();
            this.toggle();
        }
    }
}
